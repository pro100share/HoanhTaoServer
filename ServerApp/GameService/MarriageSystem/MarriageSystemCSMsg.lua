--[[功能：服务器婚姻系统消息	客户端婚姻系统与服务器婚姻系统通信版本：	v1.0	2012-03-05 create by lkj]]_define()---------------------------------------------------------------------------------求婚方面--------------------------------------------------------------------------------------客户端检测求婚条件define.MarSys_CheckProposeConditionMsg{	user = NONE,	ToRoleID = 0,		--目标玩家的RoleID}when{user = NONE}MarSys_CheckProposeConditionMsg = checkUserwhen{}function MarSys_CheckProposeConditionMsg(user, ToRoleID)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_CheckProposeConditionMsg");		return;	end;	marriageSystem:CheckProposeCondition(ToRoleID);end;--客户端发出求婚define.MarSys_ProposeToMsg{	user = NONE,	ToRoleID = 0,	MarriageKeepsakeID = 0,}when{user = NONE}MarSys_ProposeToMsg = checkUserwhen{}function MarSys_ProposeToMsg(user, ToRoleID, MarriageKeepsakeID)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_ProposeToMsg");		return;	end;	marriageSystem:ProposeTo(ToRoleID, MarriageKeepsakeID);end;--客户端接受求婚define.MarSys_AcceptProposeMsg{	user = NONE,	FromRoleID = 0,}when{user = NONE}MarSys_AcceptProposeMsg = checkUserwhen{}function MarSys_AcceptProposeMsg(user, FromRoleID)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_AcceptProposeMsg");		return;	end;	marriageSystem:AcceptPropose(FromRoleID);end;--客户端拒绝求婚信息define.MarSys_RefuseProposeMsg{	user = NONE,	FromRoleID = 0,}when{user = NONE}MarSys_RefuseProposeMsg = checkUserwhen{}function MarSys_RefuseProposeMsg(user, FromRoleID)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_RefuseProposeMsg");		return;	end;	marriageSystem:RefusePropose(FromRoleID);end;------------------------------------------------------------------------------聊天方面-----------------------------------------------------------------------------客户端发送夫妻聊天信息define.MarSys_SendChatMsg{	user = NONE,	Text = "",}when{user = NONE}MarSys_SendChatMsg = checkUserwhen{}function MarSys_SendChatMsg(user, Text)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_SendChatMsg");		return;	end;	marriageSystem:SendChat(Text);end;--客户端删除夫妻聊天信息define.MarSys_DeleteChatMsg{	user = NONE,	SendTime = 0,}when{user = NONE}MarSys_DeleteChatMsg = checkUserwhen{}function MarSys_DeleteChatMsg(user, SendTime)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_DeleteChatMsg");		return;	end;	marriageSystem:DeleteChat(SendTime);end;--客户端删除所有夫妻聊天信息define.MarSys_DeleteAllChatMsg{	user = NONE,}when{user = NONE}MarSys_DeleteAllChatMsg = checkUserwhen{}function MarSys_DeleteAllChatMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_DeleteAllChatMsg");		return;	end;	marriageSystem:DeleteAllChat();end;-----------------------------------------------------------------------------亲密度相关---------------------------------------------------------------------------define.MarSys_AddLoveMsg{	user = NONE,	Num	= 0,}when{user = NONE}MarSys_AddLoveMsg = checkUserwhen{}function MarSys_AddLoveMsg(user, Num)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_DeleteAllChatMsg");		return;	end;	marriageSystem:ClientAddLove(Num);end;---------------------------------------------------------------------------伴侣装备信息------------------------------------------------------------------------define.MarSys_RequestMateEquipInfoMsg{	user = NONE,}when{user = NONE}MarSys_RequestMateEquipInfoMsg = checkUserwhen{}function MarSys_RequestMateEquipInfoMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_RequestMateEquipInfoMsg");		return;	end;	marriageSystem:RequestMateEquipInfo();end;------------------------------------------------------------------------------震他一下---------------------------------------------------------------------------define.MarSys_AnnoyMateMsg{	user = NONE,}when{user = NONE}MarSys_AnnoyMateMsg = checkUserwhen{}function MarSys_AnnoyMateMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_AnnoyMateMsg");		return;	end;	marriageSystem:AnnoyMate();end;------------------------------------------------------------------------------离婚方面-----------------------------------------------------------------------------客户端发送协议离婚请求define.MarSys_ConferDivorceToMsg{	user = NONE,}when{user = NONE}MarSys_ConferDivorceToMsg = checkUserwhen{}function MarSys_ConferDivorceToMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_ConferDivorceToMsg");		return;	end;	marriageSystem:ConferDivorceTo();end;--客户端发送强制离婚请求define.MarSys_CompelDivorceToMsg{	user = NONE,}when{user = NONE}MarSys_CompelDivorceToMsg = checkUserwhen{}function MarSys_CompelDivorceToMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_CompelDivorceToMsg");		return;	end;	marriageSystem:CompelDivorceTo();end;--客户端接受离婚请求define.MarSys_AcceptDivorceMsg{	user = NONE,}when{user = NONE}MarSys_AcceptDivorceMsg = checkUserwhen{}function MarSys_AcceptDivorceMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_AcceptDivorceMsg");		return;	end;	marriageSystem:AcceptDivorce();end;--客户端拒绝离婚请求define.MarSys_RefuseDivorceMsg{	user = NONE,}when{user = NONE}MarSys_RefuseDivorceMsg = checkUserwhen{}function MarSys_RefuseDivorceMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_RefuseDivorceMsg");		return;	end;	marriageSystem:RefuseDivorce();end;------------------------------------------------------------------------------信物相关-----------------------------------------------------------------------------购买信物define.MarSys_BuyKeepsakeMsg{	user = NONE,	Level = 0,}when{user = NONE}MarSys_BuyKeepsakeMsg = checkUserwhen{}function MarSys_BuyKeepsakeMsg(user, Level)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_BuyKeepsakeMsg");		return;	end;	marriageSystem:BuyKeepsake(Level);end;--更换信物define.MarSys_ChangeNewKeepsakeMsg{	user = NONE,	ItemInstID = 0,}when{user = NONE}MarSys_ChangeNewKeepsakeMsg = checkUserwhen{}function MarSys_ChangeNewKeepsakeMsg(user, ItemInstID)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_ChangeNewKeepsakeMsg");		return;	end;	marriageSystem:ChangeNewKeepsake(ItemInstID);end;--取回旧信物define.MarSys_RepossessKeepsakeMsg{	user = NONE,	B_PutPacket = false;}when{user = NONE}MarSys_RepossessKeepsakeMsg = checkUserwhen{}function MarSys_RepossessKeepsakeMsg(user, B_PutPacket)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_RepossessKeepsakeMsg");		return;	end;	marriageSystem:RepossessKeepsake(B_PutPacket);end;------------------------------------------------------------------------------婚宴相关-----------------------------------------------------------------------------举办婚宴define.MarSys_HoldBanquetMsg{	user = NONE,	Level = 0,}when{user = NONE}MarSys_HoldBanquetMsg = checkUserwhen{}function MarSys_HoldBanquetMsg(user, Level)	if _G.WarHostFlag == 1 then		return	end	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_HoldBanquetMsg");		return;	end;	marriageSystem:HoldBanquet(Level);end;--查询婚宴列表define.MarSys_RequestBanquetListMsg{	user = NONE,}when{user = NONE}MarSys_RequestBanquetListMsg = checkUserwhen{}function MarSys_RequestBanquetListMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_RequestBanquetListMsg");		return;	end;	marriageSystem:RequestBanquetList();end;--给某个玩家礼金define.MarSys_GiveMarryMoneyToMsg{	user = NONE,	RoleID = 0,}when{user = NONE}MarSys_GiveMarryMoneyToMsg = checkUserwhen{}function MarSys_GiveMarryMoneyToMsg(user, RoleID)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_GiveMarryMoneyToMsg");		return;	end;	marriageSystem:GiveMarryMoneyTo(RoleID);end;--赠送红包define.MarSys_GiveMarryMoneyMsg{	user = NONE,	ToBanquetID = 0,	Money = 0,}when{user = NONE}MarSys_GiveMarryMoneyMsg = checkUserwhen{}function MarSys_GiveMarryMoneyMsg(user, ToBanquetID, Money)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_GiveMarryMoneyMsg");		return;	end;	marriageSystem:GiveMarryMoney(ToBanquetID, Money);end;--查看红包列表define.MarSys_GetMarryMoneyRequestMsg{	user = NONE,}when{user = NONE}MarSys_GetMarryMoneyRequestMsg = checkUserwhen{}function MarSys_GetMarryMoneyRequestMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_GetMarryMoneyRequestMsg");		return;	end;	marriageSystem:GetMarryMoneyRequest();end;--玩家确定领取红包define.MarSys_SureGetMarryMoneyMsg{	user = NONE,}when{user = NONE}MarSys_SureGetMarryMoneyMsg = checkUserwhen{}function MarSys_SureGetMarryMoneyMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_SureGetMarryMoneyMsg");		return;	end;	marriageSystem:SureGetMarryMoney();end;--玩家确定吃酒席define.MarSys_SureEatBanquetMsg{	user = NONE,}when{user = NONE}MarSys_SureEatBanquetMsg = checkUserwhen{}function MarSys_SureEatBanquetMsg(user)	local marriageSystem = user:GetSystem("CMarriageSystem");	if not marriageSystem then		_info("can not find user's CMarriageSystem by MarSys_SureEatBanquetMsg");		return;	end;	marriageSystem:SureEatBanquet();end;