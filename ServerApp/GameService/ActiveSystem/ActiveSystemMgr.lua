--[[功能：活动系统类管理类（服务器）版本：v1.0作者：粟宇征时间：2013-03-12]]_G.CActiveSystemMgr = {};_G.CActiveSystemMgr = CSingle:new();CSingleManager:AddSingle(CActiveSystemMgr);-----------------------------------------------------------------------------------------------function CActiveSystemMgr:Create()	self.m_tData = {}	for k,v in pairs(_G.MovementConfig) do		self.m_tData[k] = {}		for k1,v1 in ipairs(v.setStartTime or {[0] = 1}) do			self.m_tData[k][k1] = {}			self.m_tData[k][k1].IsStart = false;		end	end	self:ResetData();	return true;end;function CActiveSystemMgr:Update(dwInterval)	return true;end;function CActiveSystemMgr:Destroy()end;--开始活动function CActiveSystemMgr:Start(dwID,dwIndex)	self.m_tData[dwID][dwIndex].IsStart = true;end--结束活动function CActiveSystemMgr:End(dwID,dwIndex)	self.m_tData[dwID][dwIndex].IsStart = false;end-------------------------------------------------------------------------------------------------接口-------------------------------------------------------------------------------------------------获得目标活动是否开启function CActiveSystemMgr:GetIsStart(dwID,dwIndex)	return self.m_tData[dwID][dwIndex].IsStart;end--获得已开启活动function CActiveSystemMgr:GetStarted()	local tInfo = {}	for k,v in pairs(self.m_tData or {}) do		for k1,v1 in ipairs(v or {}) do			if v1.IsStart == true then				table.insert(tInfo,{dwID = k,dwIndex = k1});			end		end	end	return tInfo;end--重置所有数据function CActiveSystemMgr:ResetData(m_perName)	if m_perName and self[m_perName] then		self[m_perName] = 1;		return;	end	--人物打怪经验加成率	self.m_perMRoleAddExp = 1;	--人物演武经验加成率	self.m_perWRoleAddExp = 1;	--坐骑经验加成率	self.m_perMountAddExp = 1;	--演武五行真气加成率	self.m_perAddFiveElem = 1;end--获得人物打怪经验加成率function CActiveSystemMgr:GetMRoleAddExp()	return self.m_perMRoleAddExp;end;--设置人物打怪经验加成率function CActiveSystemMgr:SetMRoleAddExp(perAddExp)	self.m_perMRoleAddExp = perAddExp;end;--获得人物演武经验加成率function CActiveSystemMgr:GetWRoleAddExp()	return self.m_perWRoleAddExp;end;--设置人物演武经验加成率function CActiveSystemMgr:SetWRoleAddExp(perAddExp)	self.m_perWRoleAddExp = perAddExp;end;--获得演武人物真气加成率function CActiveSystemMgr:GetAddFiveElem()	return self.m_perAddFiveElem;end;--设置演武人物真气加成率function CActiveSystemMgr:SetAddFiveElem(perAddExp)	self.m_perAddFiveElem = perAddExp;end;--获得坐骑经验加成率function CActiveSystemMgr:GetMountAddExp()	return self.m_perMountAddExp;end;--设置坐骑经验加成率function CActiveSystemMgr:SetMountAddExp(perAddExp)	self.m_perMountAddExp = perAddExp;end;