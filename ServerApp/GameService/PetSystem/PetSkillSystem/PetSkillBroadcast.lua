--宠物技能的广播接口--发送技能释放结果，只发给自己function CPetSkill:SendSkillExecCode(dwSkillID,dwCode)	local objPlayer = self:GetPlayer();	if not objPlayer then		return false;	end;		objPlayer.OnExecPetSkillResultMsg{SkillID = dwSkillID,ResultCode = dwCode};end;function CPetSkill:BroadcastSkillMsg(isNeedSelf,szMsgName, tbParam)	local objSelf = self:GetPlayer();	if not objSelf then		return false;	end;		-- if not objSelf:IsLoadEnd() then		-- return false;	-- end		-- local objMapSystem = objSelf:GetSystem("CMapSystem");	-- local objMap = objMapSystem:GetCurMap();	-- if not objMap then		-- return;	-- end;	-- local setViewPlayer = objMap:GetCanLookPlayer(objSelf);		-- if not setViewPlayer then		-- return;	-- end		-- local dwSelfID = objSelf:GetRoleID();		-- local tbNet = {}	-- for n,objPlayer in pairs(setViewPlayer) do		-- if isNeedSelf then			-- table.insert(tbNet,objPlayer.objNet);		-- else			-- if objPlayer:GetRoleID() ~= dwSelfID then				-- table.insert(tbNet,objPlayer.objNet);			-- end		-- end	-- end		-- _groupcallout(tbNet, szMsgName, tbParam);		local objMapSys = objSelf:GetSystem("CMapSystem");	if objMapSys then		_mapcallout(szMsgName, tbParam, objMapSys:GetLogicID(), isNeedSelf)	endend;--宠物广播自己的弹出式战斗提示，就是身上飘掉血数字function CPetSkill:BroadcastBattleNotice(dwNoticeType,dwValue,dwAttType,dwAttID,isCrit)	local objSelf = self:GetPlayer();	if not objSelf then		return false;	end;		if not objSelf:IsLoadEnd() then		return false;	end		if dwAttID == 0 then		dwAttType = enEntType.eEntType_Player;		dwAttID = objSelf:GetRoleID();	end		local objMapSys = objSelf:GetSystem("CMapSystem");	if objMapSys then		_mapcallout("OnPetBattleNoticeMsg", 			{				RoleType=enEntType.eEntType_Pet,				RoleID=objSelf:GetRoleID(),				--PetID=self.petSys:GetOutPetEnumId(),				NoticeType=dwNoticeType,				Value=dwValue,				UserType=dwAttType,				UserID=dwAttID,				Crit=isCrit or false,				SkillID = 0,				ExecTime = 0,				ActCount = 0,			}, 			objMapSys:GetLogicID(), true)	endend;