--[[功能：宠物技能消息类（服务器）作者：魏云时间：2013-9-16--]]--玩家请求选中宠物学习技能 define.RequestPetLearnSkillMsg{	user = NONE,	PetEnumID = 0, --宠物配置ID	b_IsAutoBuy = false, ---是否使用自动购买	b_IsUseGold = false, ---是否使用元宝	b_IsFirstUseBind = false, ---是否优先使用绑定的物品};when {user = NONE}RequestPetLearnSkillMsg = checkUser;when{}function RequestPetLearnSkillMsg(user ,PetEnumID,b_IsAutoBuy,b_IsUseGold,b_IsFirstUseBind)	local petSys = user:GetSystem("CPetSystem");	if not petSys then		return;	end;	petSys:PetLearnSkill(PetEnumID,b_IsAutoBuy,b_IsUseGold,b_IsFirstUseBind);end;--玩家请求选中宠物技能加锁define.RequestPetSkillAddLockMsg{	user = NONE,	PetEnumID = 0, --宠物配置ID	SkillPos = 0,  --宠物技能槽位};when {user = NONE}RequestPetSkillAddLockMsg = checkUser;when{}function RequestPetSkillAddLockMsg(user ,PetEnumID,SkillPos)	local petSys = user:GetSystem("CPetSystem");	if not petSys then		return;	end;	petSys:PetSkillAddLock(PetEnumID,SkillPos);end;--玩家请求选中宠物技能解锁define.RequestPetSkillDelLockMsg{	user = NONE,	PetEnumID = 0, --宠物配置ID	SkillPos = 0,  --宠物技能槽位};when {user = NONE}RequestPetSkillDelLockMsg = checkUser;when{}function RequestPetSkillDelLockMsg(user ,PetEnumID,SkillPos)	local petSys = user:GetSystem("CPetSystem");	if not petSys then		return;	end;	petSys:PetSkillDelLock(PetEnumID,SkillPos);end;--玩家请求选中宠物技能升级define.RequestPetSkillLevelUpMsg  {	user = NONE,	SkillID = 0,   --宠物技能ID};when {user = NONE}RequestPetSkillLevelUpMsg = checkUser;when{}function RequestPetSkillLevelUpMsg(user,SkillID)	local petSys = user:GetSystem("CPetSystem");	if not petSys then		return;	end;	petSys:PetSkillLevelUp(SkillID);end;-----宠物领悟技能广播----广播define.PetSkill_BroadCastMsg{	PlayerName	= "",  ----玩家名字	PlayerRoleID= 0,   ----玩家ID	PetEnumID = 0,     ----宠物ID	PetSkillID = 0,    ----宠物技能ID}when{}function PetSkill_BroadCastMsg(PlayerName, PlayerRoleID, PetEnumID, PetSkillID)	local setNet = {};	for i,objPlayer in pairs(CPlayerManager.setAllPlayer) do		table.insert(setNet, objPlayer.objNet);	end;	_groupcallout(setNet, "PetSkill_BroadCastMsg", {PlayerName = PlayerName, PlayerRoleID = PlayerRoleID, PetEnumID = PetEnumID,PetSkillID = PetSkillID});	end;