--技能称号--检测当前技能总等级，判断当前的称号function CSkillSystem:CheckSkillTitle(bInit)	local dwAllLevel = self:CountAllSkillLevel();		local dwOldTitle = self.dwSkillTitle;		for _,v in pairs(AllSkillTitle)do		local tbInfo = SkillTitleConfig[v];		if tbInfo then			if dwAllLevel >= tbInfo.level then				self.dwSkillTitle = v;			end		end	end	--print("=======CheckSkillTitle 1=========")	--没有改变	if (not bInit) and dwOldTitle == self.dwSkillTitle then		return;	end		-- local objSelf = self:GetPlayer();	-- if objSelf then		-- objSelf.OnSkillTitleChangeMsg		-- {			-- Title = self.dwSkillTitle;			-- Isinit = 1;		-- }	-- end		self:AddProperty();	--print("=======CheckSkillTitle 2=========")	if not bInit then		self:SendTitleNotice(dwAllLevel);	endend;function CSkillSystem:AddProperty()	local tbPro = SkillTitleProperty[self.dwSkillTitle];	if not tbPro then		return;	end		local adv = SSingleAttrChange:new();	local per = SSingleAttrChange:new();		adv:AddValue(tbPro.adv);	per:AddValue(tbPro.per);		self:NotifySkillTitle(adv);	self:NotifySkillTitle(per,true);end;function CSkillSystem:SendTitleNotice(dwAllLevel)	local tbInfo = SkillTitleConfig[self.dwSkillTitle];	if not tbInfo then		return;	end	local objSelf = self:GetPlayer();	if not objSelf then		return;	end		local szTitleName = tbInfo.szName;	local szSelfName = objSelf:GetName();		local str = string.format(SysStringConfigInfo[SkillTitleConfig.dwSelfNoticeWord],dwAllLevel,"%s","")	local Param = {		{			szFunStr = szTitleName;--SysStringConfigInfo[5000240041];			dwFunId = 41;		}	}		CScriptManager:ChatNotice(str,7,bSystem,Param,szStr2,true,objSelf)		--[[	objSelf.OnWarNoticeMsg	{		NoticeType = 3;		StringID = SkillTitleConfig.dwSelfNoticeWord;		Param = {dwAllLevel,szTitleName};	}	--]]	if tbInfo.isServerNotice > 0 then		CKernelApp.OnKSWarNoticeMsg		{			NoticeType = 5;			StringID = SkillTitleConfig.dwBroadNoticeWord;			Param = {szSelfName,dwAllLevel,szTitleName};		}	endend;