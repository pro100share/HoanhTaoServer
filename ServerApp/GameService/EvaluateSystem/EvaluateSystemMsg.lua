--[[功能：评价系统消息处理（服务器）版本：v1.0作者：郭肇义时间：2012-04-05]]_define()--客户端初始评价define.InitEvaluateMsg{	user = NONE,}when{user = NONE}InitEvaluateMsg = checkUser;when{}function InitEvaluateMsg(user)	local objSystem = user:GetSystem('CEvaluateSystem')	local tabInfo = objSystem:GetEvaluate()	user.OnInitEvaluateMsg{ Info = tabInfo }end;--客户端获取评价define.GetEvaluateMsg{	user = NONE,	RoleID = 0,}when{user = NONE}GetEvaluateMsg = checkUser;when{}function GetEvaluateMsg(user,RoleID)	local dwSrcID = user:GetRoleID()	local dwTarID = RoleID	CKernelApp.KSGetEvaluateMsg{		SrcID = dwSrcID, TarID = dwTarID	}end;define.OnKSGetEvaluateMsg{	user = NONE,	RoleID = 0,	Info = {},}when{user = NONE}OnKSGetEvaluateMsg = checkKSUser;when{}function OnKSGetEvaluateMsg(user,RoleID,Info)	user.OnGetEvaluateMsg{		RoleID = RoleID, Info = Info	}end;--客户端设置评价define.AddEvaluateMsg{	user = NONE,	RoleID = 0,	Type = 0,}when{user = NONE}AddEvaluateMsg = checkUser;when{}function AddEvaluateMsg(user,RoleID,Type)	local objSystem = user:GetSystem('CEvaluateSystem')	local tabInfo = objSystem:AddEvaluate(RoleID,Type)	user.OnAddEvaluateMsg{		RoleID = RoleID, Info = tabInfo	}end;