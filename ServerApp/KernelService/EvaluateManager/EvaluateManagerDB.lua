--[[功能：评价系统数据库操作版本：v1.0作者：郭肇义时间：2012-04-05]]_G.CEvaluateManagerDB = {}-------------------------------------------------------------------------------------------------创建系统数据库function CEvaluateManagerDB:Create(objDB)	self.m_ObjDB = objDB	return selfend;-------------------------------------------------------------------------------------------------接口-------------------------------------------------------------------------------------------------获得评价列表function CEvaluateManagerDB:GetEvaluateList()	local tabEvaluateList = {}	local tabData = nil	tabData = self.m_ObjDB:execute('select * from "T_Role_Evaluate_New" ');	for _,v in pairs(tabData or {}) do		tabEvaluateList[v.dwRoleID] = v	end	return tabEvaluateListend--添加评价function CEvaluateManagerDB:AddEvaluate(dwRoleID,tabEvaluate)	local szCmd = 'insert into "T_Role_Evaluate_New" ("dwRoleID", "dwFlower", "dwEgg") VALUES($1,$2,$3)'	self.m_ObjDB:execute_async(szCmd,dwRoleID,tabEvaluate.dwFlower,tabEvaluate.dwEgg)end--设置评价function CEvaluateManagerDB:SetEvaluate(dwRoleID,tabEvaluate)	local szCmd = 'update "T_Role_Evaluate_New" set "dwFlower" = $1, "dwEgg" = $2 where "dwRoleID" = $3'	self.m_ObjDB:execute_async(szCmd,tabEvaluate.dwFlower,tabEvaluate.dwEgg,dwRoleID)end--删除评价function CEvaluateManagerDB:DelEvaluate(dwRoleID)	local szCmd = 'delete from "T_Role_Evaluate_New" where "dwRoleID" = $1'	self.m_ObjDB:execute_async(szCmd,dwRoleID)end