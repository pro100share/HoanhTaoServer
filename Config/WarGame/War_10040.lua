--战场WarAddition[10040] = {};local Form = WarAddition[10040]Form.Base = {	space = 1000*60;	--物品配置	Article = {5809270,5809271,5809272,5809273};		--定义BOSS	Boss = {		--青龙		[25] = {{dwMonsterId=80302201,fight_id=3100,dwAIId=10012002,dwDropId=80302201,dwLook=12910,count = 1};};		--朱雀		[20] = {{dwMonsterId=80302203,fight_id=3090,dwAIId=10012002,dwDropId=80302201,dwLook=12810,count = 1};};		--白虎		[15] = {{dwMonsterId=80302202,fight_id=3080,dwAIId=10012002,dwDropId=80302201,dwLook=12710,count = 1};};		--玄武		[10] = {{dwMonsterId=80302204,fight_id=3070,dwAIId=10012002,dwDropId=80302201,dwLook=12610,count = 1};};			};	--定义BOSS坐标	Boss_x_y = {{x=-12,y=-13}};	--定义特殊事件	BaoXiang = {		--无名小卒		[1] = {			{dwMonsterId = 80302101,fight_id = 2060,dwAIId = 10012002,dwDropId = 80302101,dwLook = 100320010,count = 20};		};		--成名高手		[2]  = {			{dwMonsterId = 80302102,fight_id = 2070,dwAIId = 10012002,dwDropId = 80302102,dwLook = 100320040,count = 10};		};		--武林宗师		[3] = {			{dwMonsterId = 80302103,fight_id = 2080,dwAIId = 10012002,dwDropId = 80302103,dwLook = 100920060,count = 5};		};	};	--定义特殊事件击杀积分	Mark = {		--无名小卒		[80302101] = 10;		--成名高手		[80302102] = 40;		--武林宗师		[80302103] = 100;		--青龙		[80302201] = 2000;		--白虎		[80302202] = 1000;		--朱雀		[80302203] = 750;		--玄武		[80302204] = 500;		--青龙塑像		[80302001] = 300;		--白虎塑像		[80302002] = 250;		--朱雀塑像		[80302003] = 250;		--玄武塑像		[80302004] = 200;			};		--结束结算	Award = {		--奖励配置		--礼金，经验，真气		[1] = {BindGold = 1000,Exp = 1280000,Water = 15000,Mail = 13009000};		[2] = {BindGold = 600,Exp = 880000,Water = 10000,Mail = 13009001};		[3] = {BindGold = 400,Exp = 480000,Water = 7500,Mail = 13009002};		[4] = {BindGold = 200,Exp = 180000,Water = 2000,Mail = 13009003};	};		--定义坐标事件库	BaoXiang_x_y = {		{x=-18.14,y=-21.88};		{x=-21.44,y=-17.39};		{x=-21.70,y=-10.30};		{x=-16.56,y=-4.68};		{x=-8.23,y=-4.14};		{x=-4.19,y=-8.18};		{x=-4.1,y=-15.58};		{x=-8.68,y=-20.80};		{x=-13.51,y=-20.34};		{x=-17.50,y=-24.81};		{x=-11.79,y=-25.97};		{x=-6.89,y=-26.27};		{x=-3.17,y=-22.55};		{x=2.16,y=-17.64};		{x=2.59,y=-11.68};		{x=1.52,y=-5.36};		{x=-2.40,y=-1.43};		{x=-7.57,y=2.60};		{x=-12.89,y=2.69};		{x=-18.15,y=1.68};		{x=-23.25,y=-2.41};		{x=-26.70,y=-6.86};		{x=-15.7,y=-28.33};		{x=-27.95,y=-18.93};		{x=-24.18,y=-22.86};		{x=0.2,y=-1.20};		{x=-20.38,y=0.97};		{x=-0.47,y=-23.15};		{x=-29.1,y=-13.71};		{x=-40.1,y=-12.41};		{x=10.59,y=-68.58};		{x=-51.26,y=-12.53};		{x=-61.35,y=-15.67};		{x=-72.16,y=-18.54};		{x=-73.90,y=-7.3};		{x=-66.55,y=7.83};		{x=-62.89,y=15.26};		{x=-57.50,y=23.6};		{x=-50.17,y=30.83};		{x=-40.5,y=38.28};		{x=-19.29,y=41.97};		{x=-3.79,y=42.3};		{x=-9.93,y=50.99};		{x=11.61,y=40.92};		{x=21.74,y=35.23};		{x=30.98,y=26.89};		{x=39.59,y=16.33};		{x=44.3,y=-5.26};		{x=35.30,y=-15.3};		{x=47.56,y=-20.35};		{x=37.47,y=-45.22};		{x=31.55,y=-51.98};		{x=18.92,y=-62.45};		{x=-3.84,y=-68.86};		{x=-16.54,y=-76.54};		{x=-14.23,y=-60.90};		{x=-35.26,y=-66.61};		{x=-45.88,y=-59.39};		{x=-55.83,y=-49.45};		{x=43.91,y=-33.66};		{x=-11.84,y=-43.94};		{x=-12.10,y=-53.17};		{x=25.81,y=-12.94};		{x=17.25,y=-13.5};		{x=-11.9,y=13.57};		{x=-11.11,y=24.86};		{x=43.95,y=6.3};		{x=-33.21,y=41.66};		{x=-66.59,y=-33.47};		{x=-61.59,y=-43.47};		{x=25.59,y=-58.47};	};};--刷怪物function Form:Monster(Type,ShiJian)	local data = {};	local Place = {};	local map = 8030;	if (Type == "Boss") then		data[1] = self.Base[Type][ShiJian]		Place = self.Base.Boss_x_y	end	if (Type == "BaoXiang") then		data = self.Base.BaoXiang		Place = WarAddition:upset(self.Base.BaoXiang_x_y)	end	WarAddition:Monster(Place,data,map)end--击杀奖励积分--objKiller 自己 objDeader 死者function Form:Kill(objWar,objKiller,objDeader)	--如果击杀者和死亡者为同一人	if (objKiller == objDeader) then		return	end	--自己等级	local Level = objKiller:GetLevel();	--被杀者等级	local dwLevel = objDeader:GetLevel();		local Integral = 0;		local DengCha = dwLevel - Level;	if (DengCha >= 10) then		Integral = 7;	elseif (DengCha	<= 10 and DengCha >= -10) then		Integral = 5;	elseif (DengCha <= -10 and DengCha >= -20) then		Integral = 2;	else		Integral = 1;	end	objWar:SetWarTeamScore(objKiller,Integral)end--结算奖励function Form:Reward(CaptainId,Placing)		local t = WarAddition[10040].Base.Award[Placing]		local objPlayer = CMapManager:GetPlayer(CaptainId);		local objWarSystem = objPlayer:GetSystem("CWarSystem");		--如果角色的战场不是10040，就跳过		if objWarSystem.dwCurWarID ~= 10040 then			return;		end				local tbInfo = {};		tbInfo.jingyan = math.floor(t.Exp);		tbInfo.zhenqi_G = math.floor(t.Water);		tbInfo.zhenqi_M = math.floor(t.Water);		tbInfo.zhenqi_S = math.floor(t.Water);		tbInfo.zhenqi_H = math.floor(t.Water);		tbInfo.zhenqi_T = math.floor(t.Water);		objWarSystem:AddHarvest(tbInfo);		--礼金		objWarSystem:AddMoneyHarvest(0,0,t.BindGold)		--邮件		CMailManager:SendConfigMail( t.Mail, CaptainId)end