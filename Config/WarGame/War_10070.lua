--战场WarAddition[10070] = {};local Form = WarAddition[10070];Form.Base = {	--触发器时间	space = 1000*60;		--是否得到了开服时间	b_IsGetStartSvrTime = false;		--记录开服时间	StartSvrTime = 0;		SmallMon = {		[1] = {dwMonsterId=50760007,dwAIId=50760007,dwDropId=50760007,dwLook=101220040,count = 15};		[2] = {dwMonsterId=50760008,dwAIId=50760008,dwDropId=50760007,dwLook=101220030,count = 15};		[3] = {dwMonsterId=50760009,dwAIId=50760009,dwDropId=50760007,dwLook=100320020,count = 15};		[4] = {dwMonsterId=50760010,dwAIId=50760010,dwDropId=50760007,dwLook=100710980,count = 15};		[5] = {dwMonsterId=50760011,dwAIId=50760011,dwDropId=50760007,dwLook=101020120,count = 11};		[6] = {dwMonsterId=50760012,dwAIId=50760012,dwDropId=50760007,dwLook=100710080,count = 15};		[7] = {dwMonsterId=50760013,dwAIId=50760013,dwDropId=50760007,dwLook=101120090,count = 15};		[8] = {dwMonsterId=50760014,dwAIId=50760014,dwDropId=50760007,dwLook=101120100,count = 15};		[9] = {dwMonsterId=50760015,dwAIId=50760015,dwDropId=50760007,dwLook=101120120,count = 15};		[10] = {dwMonsterId=50760016,dwAIId=50760016,dwDropId=50760007,dwLook=100210240,count = 15};	};		--金钱BOSS	GoldBoss = { dwMonsterId=50760004,dwAIId=50760004,dwDropId=50760004,dwLook=507200080,count = 1};	--经验BOSS	ExpBoss = { dwMonsterId=50760005,dwAIId=50760005,dwDropId=50760005,dwLook=50760005,count = 1};		--最终BOSS	FinalBoss = { dwMonsterId=50760006,dwAIId=50760006,dwDropId=50760006,dwLook=50760006,count = 1 };		--木宝箱	WoodBox = { dwMonsterId=50760001,fight_id=50760001,dwAIId=50760001,dwDropId=50760001,dwLook=11200,count = 8};		--银宝箱	SilveryBox = { dwMonsterId=50760002,fight_id=50760002,dwAIId=50760002,dwDropId=50760002,dwLook=11210,count = 4};	--金宝箱	GoldBox = { dwMonsterId=50760003,fight_id=50760003,dwAIId=50760003,dwDropId=50760003,dwLook=11220,count = 2};	--任务NPC(非固定NPC)	NpcData = {		[1] = {npc=80901001};--对话任务1		[2] = {npc=80901002};--对话任务2		[3] = {npc=80901003};--对话任务3		[4] = {npc=80901004};--杀怪任务1		[5] = {npc=80901005};--杀怪任务2		[6] = {npc=80901006};--对话任务3		[7] = {npc=80901007};--对话任务4		[8] = {npc=80901008};--采集任务1		[9] = {npc=80901009};--采集任务2		[10] = {npc=80901010};--采集任务3		[11] = {npc=80901011};--采集任务3		[12] = {npc=80901012};--采集任务3		[13] = {npc=80901013};--采集任务3		[14] = {npc=80901014};--采集任务3		[15] = {npc=80901015};--采集任务3		[16] = {npc=80901016};--采集任务3			};		--小飞贼	SmallThief = {		[1] = {dwMonsterId = 50760019,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[2] = {dwMonsterId = 50760021,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[3] = {dwMonsterId = 50760022,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[4] = {dwMonsterId = 50760023,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[5] = {dwMonsterId = 50760024,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[6] = {dwMonsterId = 50760025,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[7] = {dwMonsterId = 50760026,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[8] = {dwMonsterId = 50760027,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[9] = {dwMonsterId = 50760028,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};		[10] = {dwMonsterId = 50760029,dwAIId = 20002100,dwDropId = 50760019,dwLook = 100220990,count = 2};	};		--飞贼头头	Thief = {		[1] = {dwMonsterId = 50760017,dwAIId = 20002100,dwDropId = 50760017,dwLook = 50760017,count = 1};		[2] = {dwMonsterId = 50760018,dwAIId = 20002100,dwDropId = 50760018,dwLook = 50760017,count = 1};	};		--小怪坐标库	SmallMonPos = {		[1] = {--15			{x=-54.50,y=-54.50,},			{x=-59.6,y=-59.87,},			{x=-58.50,y=-63.50,},			{x=-54.58,y=-60.73,},			{x=-56.17,y=-57.36,},			{x=-58.75,y=-54.85,},			{x=-57.74,y=-52.66,},			{x=-51.58,y=-58.7,},			{x=-47.93,y=-55.60,},			{x=-49.53,y=-53.25,},			{x=-48.28,y=-58.42,},			{x=-50.2,y=-55.96,},			{x=-54.67,y=-51.41,},			{x=-51.5,y=-61.58,},			{x=-62.50,y=-55.50,},		},		[2] = {--15			{x=-67,y=-38,},				{x=-63,y=-40,},			{x=-65,y=-42,},				{x=-71,y=-44,},			{x=-72,y=-41,},			{x=-69,y=-36,},			{x=-64,y=-35,},			{x=-70,y=-40,},			{x=-60,y=-42,},			{x=-73,y=-35,},			{x=-66,y=-45,},			{x=-67,y=-33,},			{x=-62,y=-42,},			{x=-62,y=-35,},			{x=-60,y=-37,},					},		[3] = {--15			{x=-60.95,y=-7.78,},			{x=-63.85,y=-3.97,},			{x=-65.24,y=-1.96,},			{x=-67.89,y=-4.33,},			{x=-66.38,y=-5.72,},			{x=-63.29,y=-11.59,},			{x=-65.87,y=-11.6,},			{x=-70.54,y=-6.21,},			{x=-71.99,y=-8.14,},			{x=-69.47,y=-10.4,},			{x=-67.32,y=-13.93,},			{x=-66.96,y=-16.11,},			{x=-72.45,y=-12.36,},			{x=-61.51,y=-10.22,},			{x=-73.78,y=-9.96,},				},		[4] = {--15			{x=-55.7,y=26.89,},			{x=-64.59,y=33.34,},			{x=-65.6,y=29.82,},			{x=-61.41,y=26.89,},			{x=-56.84,y=22.34,},			{x=-56.95,y=19.1,},			{x=-58.49,y=21.17,},			{x=-66.13,y=31.74,},			{x=-67.57,y=33.12,},			{x=-63.70,y=23.78,},			{x=-61.7,y=20.64,},			{x=-60.52,y=30.18,},			{x=-57.57,y=27.37,},			{x=-68.17,y=27.34,},			{x=-67.30,y=25.42,},		},		[5] = {--11			{x=-56.75,y=42.25,},			{x=-58.48,y=43.43,},			{x=-59.5,y=45.52,},			{x=-57.41,y=47.82,},			{x=-54.98,y=48.39,},			{x=-53.46,y=46.78,},			{x=-53.50,y=44.16,},			{x=-54.51,y=42.38,},			{x=-49.99,y=43.16,},			{x=-51.29,y=41.67,},			{x=-52.76,y=39.89,},			},		[6] = {--15			{x=24.41,y=53.70,},			{x=19.65,y=56.58,},			{x=16.95,y=57.53,},			{x=17.97,y=54.10,},			{x=20.0,y=52.86,},			{x=19.32,y=51.11,},			{x=19.28,y=48.90,},			{x=23.27,y=47.88,},			{x=27.51,y=46.31,},			{x=16.96,y=48.17,},			{x=15.47,y=52.43,},			{x=29.70,y=52.42,},			{x=26.64,y=50.52,},			{x=27.41,y=48.33,},			{x=30.39,y=47.20,},		},		[7] = {--15			{x=53.74,y=29.73,},			{x=49.6,y=35.26,},			{x=46.93,y=33.30,},			{x=41.50,y=25.50,},			{x=53.32,y=26.79,},			{x=48.92,y=28.42,},			{x=44.88,y=33.3,},			{x=45.10,y=26.27,},			{x=40.87,y=28.51,},			{x=45.51,y=23.55,},			{x=56.32,y=25.96,},			{x=51.3,y=22.15,},			{x=43.13,y=22.93,},			{x=56.73,y=30.38,},			{x=51.85,y=36.34,},			},		[8] = {--15			{x=49.53,y=2.16,},			{x=46.22,y=7.0,},			{x=42.79,y=8.84,},			{x=37.40,y=8.77,},			{x=40.28,y=6.74,},			{x=45.37,y=2.17,},			{x=45.72,y=-0.72,},			{x=41.96,y=0.80,},			{x=34.58,y=6.74,},			{x=37.1,y=0.66,},			{x=37.67,y=-2.50,},			{x=39.22,y=0.73,},			{x=40.41,y=-2.46,},			{x=40.58,y=2.75,},			{x=35.93,y=10.4,},		},		[9] = {--15			{x=22.16,y=-3.8,},			{x=18.8,y=7.76,},			{x=16.33,y=10.17,},			{x=11.96,y=14.23,},			{x=8.1,y=18.67,},			{x=10.47,y=12.80,},			{x=16.15,y=3.41,},			{x=18.0,y=-2.23,},			{x=15.21,y=-4.28,},			{x=14.67,y=-1.35,},			{x=4.70,y=13.70,},			{x=7.37,y=7.26,},			{x=9.77,y=1.29,},			{x=11.87,y=-3.44,},			{x=7.59,y=12.44,},			},		[10] = {--15			{x=45.85,y=-57.45,},			{x=39.15,y=-49.2,},			{x=40.50,y=-54.50,},			{x=43.58,y=-61.78,},			{x=40.57,y=-60.40,},			{x=37.72,y=-53.41,},			{x=36.4,y=-51.66,},			{x=37.89,y=-63.12,},			{x=35.1,y=-60.70,},			{x=34.26,y=-58.94,},			{x=32.38,y=-54.31,},			{x=31.37,y=-61.13,},			{x=32.54,y=-65.74,},			{x=30.62,y=-66.48,},			{x=26.53,y=-56.16,},			},	};	--小飞贼坐标库	ThiefPos = {		[1] = {			{x=-50,y=-55},			{x=-59,y=-57},		},		[2] = {			{x=-58,y=-39},			{x=-69,y=-36},		},		[3] = {			{x=-64,y=-13},			{x=-69,y=-5},		},		[4] = {			{x=-54,y=23},			{x=-45,y=35},		},		[5] = {			{x=-14,y=51},			{x=-26,y=45},			},				[6] = {			{x=17,y=51},			{x=26,y=51},		},		[7] = {			{x=53,y=28},			{x=40,y=29},		},		[8] = {			{x=40,y=4},			{x=34,y=-7},		},				[9] = {			{x=12,y=20},			{x=20,y=-6},		},		[10] = {					{x=47,y=-52},			{x=44,y=-65},		},	};		--飞贼头头坐标库	ThiefHeaderPos = {		{x=19,y=11};		{x=48,y=31};		{x=15,y=55};		{x=-50,y=36};		{x=-57,y=-34};		{x=37,y=-60};	};	--金钱/经验BOSS刷新坐标库	BossPos = {		[1] = {			{x=-65,y=-14};			{x=-48,y=34};			{x=-55,y=-38};		},		[2] = {			{x=51,y=27};			{x=33,y=-58};			{x=16,y=2};		},	};	--宝箱刷新坐标库	BoxPos = {		[1] = {--木质			{x=30,y=-65};			{x=51,y=-52};			{x=25,y=-49};			{x=8,y=-62};			{x=-54,y=-47};			{x=-45,y=-32};			{x=-66,y=-20};			{x=-65,y=1};			{x=-70,y=39};			{x=-62,y=46};			{x=-40,y=-7};			{x=17,y=-5};			{x=25,y=13};			{x=-53,y=16};		},		[2] = {--银色			{x=-41,y=46};			{x=-31,y=34};			{x=-8,y=46};			{x=12,y=60};			{x=37,y=52};			{x=49,y=44};			{x=57,y=26};			{x=34,y=11};			{x=28,y=-22};			{x=10,y=8};				{x=-24,y=-26};				{x=35,y=-35};			{x=42,y=-57};		},		[3] = {--金色			{x=-3,y=11};			{x=-57,y=-30};			{x=-64,y=45};			{x=-12,y=57};			{x=-45,y=33};			{x=47,y=25};			{x=38,y=31};			{x=48,y=44};			{x=31,y=45};			{x=-18,y=49};			{x=-8,y=-18};			{x=10,y=-68};			{x=-34,y=-52};			{x=-64,y=-52};		},	};	--NPC刷新坐标库	NpcPos = {		{x=-48,y=1};		{x=-37,y=27};		{x=-58,y=49};		{x=-46,y=47};		{x=26,y=64};		{x=31,y=45};		{x=56,y=32};		{x=40,y=35};		{x=15,y=30};		{x=5,y=11};		{x=17,y=-10};		{x=43,y=-48};		{x=-10,y=-67};		{x=-61,y=-31};		{x=-7,y=47};		{x=38,y=51};		{x=30,y=15};		{x=39,y=-17};		{x=5,y=-56};	};	--最终BOSS坐标	FinalBossPos = {x=-17,y=-22};		--刷新时间	RefreshTime = {		GoldBoss = 9;		ExpBoss = 19;		FinalBoss = 29;		WoodBox = 13;		SilveryBox = 17;		GoldBox = 27;		NpcData = 15;		Thief = 20;		TokenTime = 5;		OnHookTime = 6;	};	--存储木质宝箱（备份）	StoreWodoBox = {};	--存储木质宝箱（临时）	TempStoreWodoBox = {};	--存储银质宝箱（备份）	StoreSilveryBox = {};	--存储银质宝箱（临时）	TempStoreSilveryBox = {};		--存储金质宝箱（备份）	StoreGoldBox = {};	--存储金质宝箱（临时）	TempStoreGoldBox = {};		--存储经验BOSS（备份）	StoreExpBoss = {};	--存储金钱BOSS（备份）	StoreGoldBoss = {};			--存储最终BOSS（备份）	StoreFinalBoss = {};	--存储杀怪任务NPC（备份）	StoreKillMonsterNPC = {};	--存储杀怪任务NPC（临时）	TempStoreKillMonsterNPC = {};		--存储飞贼（备份）	StoreThief = {};	--存储飞贼（备份）	TempStoreThief = {};		--标记岛主令的使用次数	MarkTimes = 0	};--根据开服时间计算小怪等级分划（ MonAreaID：1--10 ）function Form:GetMonFightID(MonType,MonAreaID,Day)	--怪物的基础等级	local BaseLevel = 50	local finalFightID = 7050	local BaseFightID = 7000		if MonType == 1 then		BaseLevel = 50			--SmallMonster		BaseFightID = 7000	elseif MonType == 2 then		BaseLevel = 68			--SmallBoss		BaseFightID = 8000	elseif MonType == 3 then				BaseLevel = 75			--FinalBoss		BaseFightID = 9000	end		if MonType == 1 then		if MonAreaID == 1 then			BaseLevel = 50		elseif MonAreaID == 2 then			BaseLevel = 52		elseif MonAreaID == 3 then			BaseLevel = 54		elseif MonAreaID == 4 then			BaseLevel = 56		elseif MonAreaID == 5 then			BaseLevel = 58		elseif MonAreaID == 6 then			BaseLevel = 61		elseif MonAreaID == 7 then			BaseLevel = 57		elseif MonAreaID == 8 then			BaseLevel = 59		elseif MonAreaID == 9 then			BaseLevel = 63		elseif MonAreaID == 10 then			BaseLevel = 55		end		end		if Day >= 70 then		Day = 70;	end		finalFightID = BaseFightID + ( BaseLevel + math.floor(Day/7) * 5 )		return finalFightID;end		--根据开服时间计算飞贼等级分划（ MonAreaID：1--10 ）function Form:GetMonThiefFightID(MonType,MonAreaID,Day)	--怪物的基础等级	local BaseLevel = 50	local finalFightID = 7050	local BaseFightID = 10000		if MonType == 1 then		BaseLevel = 50			--SmallThief		BaseFightID = 10000	elseif MonType == 2 then		BaseLevel = 70			--BigThief		BaseFightID = 11000	end		if MonType == 1 then		if MonAreaID == 1 then			BaseLevel = 50		elseif MonAreaID == 2 then			BaseLevel = 52		elseif MonAreaID == 3 then			BaseLevel = 54		elseif MonAreaID == 4 then			BaseLevel = 56		elseif MonAreaID == 5 then			BaseLevel = 58		elseif MonAreaID == 6 then			BaseLevel = 61		elseif MonAreaID == 7 then			BaseLevel = 57		elseif MonAreaID == 8 then			BaseLevel = 59		elseif MonAreaID == 9 then			BaseLevel = 63		elseif MonAreaID == 10 then			BaseLevel = 55		end		end		if Day >= 70 then		Day = 70;	end		finalFightID = BaseFightID + ( BaseLevel + math.floor(Day/7) * 5 )		return finalFightID;end		--------------------------------------------------------------刷小怪-------------------------------------------------------------function Form:GrowSmallMon(Day)	local Data = self.Base.SmallMon	for Loop = 1,#Data do		local obtain = Data[Loop]; 		local tempFightID = self:GetMonFightID(1,Loop,Day)		local Place = self.Base.SmallMonPos[Loop]				for Big = 1,obtain.count do			local m = Place[Big]			local objID = CScriptManager:AddMonToMap(8090,obtain.dwMonsterId,tempFightID,obtain.dwAIId,obtain.dwDropId,obtain.dwLook,m.x,m.y)		end	endend--------------------------------------------------------------刷小飞贼-------------------------------------------------------------function Form:GrowSmallThief(Day)	local Data = self.Base.SmallThief	for Loop = 1,#Data do		local obtain = Data[Loop]; 		local tempFightID = self:GetMonThiefFightID(1,Loop,Day)		local Place = self.Base.ThiefPos[Loop]			for Big = 1,obtain.count do			local m = Place[Big]			local objID = CScriptManager:AddMonToMap(8090,obtain.dwMonsterId,tempFightID,obtain.dwAIId,obtain.dwDropId,obtain.dwLook,m.x,m.y)		end	endend--------------------------------------------------------------刷BOSS-----------------------------------------------------------------------------------------------------------------金钱BOSSfunction Form:GrowGoldBoss(Day)	local Data = self.Base.GoldBoss	local Place = self.Base.BossPos[1]	local objCurMap = CMapManager:GetMap(8090);	CScriptManager:MapNotice(objCurMap,SysStringConfigInfo[13009200005])	CScriptManager:Notice(SysStringConfigInfo[13009200005],6,false,8090)	--拿到传过来的配置		local tempFightID = self:GetMonFightID(2,1,Day)	local Record = math.random( #Place );	local m = Place[Record]	local objID = CScriptManager:AddMonToMap(8090,Data.dwMonsterId,tempFightID,Data.dwAIId,Data.dwDropId,Data.dwLook,m.x,m.y)end-----------------------------------经验BOSSfunction Form:GrowExpBoss(Day)	local Data = self.Base.ExpBoss	local Place = self.Base.BossPos[2]	local objCurMap = CMapManager:GetMap(8090);	CScriptManager:MapNotice(objCurMap,SysStringConfigInfo[13009200006])	CScriptManager:Notice(SysStringConfigInfo[13009200006],6,false,8090)	local tempFightID = self:GetMonFightID(2,1,Day)	local Record = math.random( #Place );	local m = Place[Record]	local objID = CScriptManager:AddMonToMap(8090,Data.dwMonsterId,tempFightID,Data.dwAIId,Data.dwDropId,Data.dwLook,m.x,m.y)end--------------------------------------------------------------刷最终BOSS---------------------------------------------------------------刷最终Bossfunction Form:GrowFinalBoss(Day)	local Data = self.Base.FinalBoss	local objCurMap = CMapManager:GetMap(8090);	CScriptManager:MapNotice(objCurMap,SysStringConfigInfo[13009200007])	CScriptManager:Notice(SysStringConfigInfo[13009200007],6,false,8090)	local x,y = Form.Base.FinalBossPos.x,Form.Base.FinalBossPos.y;	local tempFightID = self:GetMonFightID(3,1,Day)	local objID = CScriptManager:AddMonToMap(8090,Data.dwMonsterId,tempFightID,Data.dwAIId,Data.dwDropId,Data.dwLook,x,y)end--------------------------------------------------------------刷宝箱--------------------------------------------------------------------------------------------------------木宝箱function Form:FunStoreWoodBox()		-----------------------取出木宝箱所用信息	local Data = self.Base.WoodBox	local Place = self.Base.BoxPos[1]	local waste = waste or {}		for Big = 1,Data.count do		local Record = math.random( #Place );		local m = Place[Record]		table.insert(self.Base.StoreWodoBox,m)		--保存坐标		table.insert(waste,m)		--删除坐标		table.remove(Place,Record)			end		--还原坐标库	for k,n in pairs(waste) do		table.insert(Place,n)		waste[k] = nil;	endendfunction Form:GrowWoodBox()	local Data = self.Base.WoodBox	CScriptManager:Notice(SysStringConfigInfo[13009200002],6,false,8090)	local Pos = self.Base.StoreWodoBox	for Big = 1,Data.count do		local objID = CScriptManager:AddMonToMap(8090,Data.dwMonsterId,Data.fight_id,Data.dwAIId,Data.dwDropId,Data.dwLook,Pos[Big].x,Pos[Big].y)		table.insert(self.Base.TempStoreWodoBox,objID)	endend--删除宝箱function Form:DeleteWoodBox()	local Map = CMapManager:GetMap(8090)	if not Map then return end;	local mgrMon = Map:GetMonsterMgr()	if not mgrMon then return end;	for i=1,#self.Base.TempStoreWodoBox do		if self.Base.TempStoreWodoBox[i] then			mgrMon:Remove(self.Base.TempStoreWodoBox[i])			self.Base.TempStoreWodoBox[i] = nil;		end	endend--------------------------------------------银宝箱function Form:FunStoreSilveryBox()		-----------------------取出银宝箱所用信息	local Data = self.Base.SilveryBox	local Place = self.Base.BoxPos[2]	local waste = waste or {}	for Big = 1,Data.count do		local Record = math.random( #Place );		local m = Place[Record]		table.insert(self.Base.StoreSilveryBox,m)		--保存坐标		table.insert(waste,m)		--删除坐标		table.remove(Place,Record)				end	--还原坐标库	for k,n in pairs(waste) do		table.insert(Place,n)		waste[k] = nil;	endendfunction Form:GrowSilveryBox()	local Data = self.Base.SilveryBox	local objCurMap = CMapManager:GetMap(8090);	CScriptManager:MapNotice(objCurMap,SysStringConfigInfo[13009200003]);	CScriptManager:Notice(SysStringConfigInfo[13009200003],6,false,8090)	local Pos = self.Base.StoreSilveryBox	for Big = 1,Data.count do		local objID = CScriptManager:AddMonToMap(8090,Data.dwMonsterId,Data.fight_id,Data.dwAIId,Data.dwDropId,Data.dwLook,Pos[Big].x,Pos[Big].y)		table.insert(self.Base.TempStoreSilveryBox,objID)	endend--删除宝箱function Form:DeleteSilveryBox()	local Map = CMapManager:GetMap(8090)	if not Map then return end;	local mgrMon = Map:GetMonsterMgr()	if not mgrMon then return end;	for i=1,#self.Base.TempStoreSilveryBox do		if self.Base.TempStoreSilveryBox[i] then			mgrMon:Remove(self.Base.TempStoreSilveryBox[i])			self.Base.TempStoreSilveryBox[i] = nil;		end 	endend------------------------------------------------金宝箱function Form:FunStoreGoldBox()		-----------------------取出金宝箱所用信息	local Data = self.Base.GoldBox	local Place = self.Base.BoxPos[3]	local waste = waste or {}	for Big = 1,Data.count do		local Record = math.random( #Place );		local m = Place[Record]		table.insert(self.Base.StoreGoldBox,m)		--保存坐标		table.insert(waste,m)		--删除坐标		table.remove(Place,Record)			end		--还原坐标库	for k,n in pairs(waste) do		table.insert(Place,n)		waste[k] = nil;	endendfunction Form:GrowGoldBox()	local Data = self.Base.GoldBox	local objCurMap = CMapManager:GetMap(8090);	CScriptManager:MapNotice(objCurMap,SysStringConfigInfo[13009200004]);	CScriptManager:Notice(SysStringConfigInfo[13009200004],6,false,8090)	local Pos = self.Base.StoreGoldBox	for Big = 1,Data.count do		local objID = CScriptManager:AddMonToMap(8090,Data.dwMonsterId,Data.fight_id,Data.dwAIId,Data.dwDropId,Data.dwLook,Pos[Big].x,Pos[Big].y)		table.insert(self.Base.TempStoreGoldBox,objID)	endend--删除宝箱function Form:DeleteGoldBox()	local Map = CMapManager:GetMap(8090)	if not Map then return end;	local mgrMon = Map:GetMonsterMgr()	if not mgrMon then return end;	for i=1,#self.Base.TempStoreGoldBox do		if self.Base.TempStoreGoldBox[i] then			mgrMon:Remove(self.Base.TempStoreGoldBox[i])			self.Base.TempStoreGoldBox[i] = nil;		end	endend--------------------------------------------------------------刷NPC----------------------------------------------------------------刷NPC（需要添加NPC函数，非怪物函数，明天继续）function Form:FunStoreNPC()	local Place = self.Base.NpcPos	local waste = waste or {}	local wasteNpc = wasteNpc or {}	local t = self.Base.NpcData	for k=1,10 do		local dwRand = math.random( #Place )		local m = Place[dwRand];		local dwRandNpc = math.random( #t )		local data = t[dwRandNpc];		self.Base.StoreKillMonsterNPC[k] = {};		self.Base.StoreKillMonsterNPC[k] = {m,data};		--保存要刷出的NPC数据		table.insert(wasteNpc,data)			--删除NPC数据		table.remove(t,dwRandNpc)				--保存坐标		table.insert(waste,m)		--删除坐标		table.remove(Place,dwRand)				end	--还原坐标库	for k,n in pairs(waste) do		table.insert(Place,n)		n = nil;	end	--还原NPC数据	for k,n in pairs(wasteNpc) do		table.insert(t,n)		n = nil;	endendfunction Form:GrowNPC()	local objCurMap = CMapManager:GetMap(8090);	local mgrNpc = objCurMap:GetNpcMgr()	if objCurMap then		CScriptManager:Notice(SysStringConfigInfo[13009200008],6,false,8090)		for k=1,10 do			local x,y = self.Base.StoreKillMonsterNPC[k][1].x,self.Base.StoreKillMonsterNPC[k][1].y			local data = self.Base.StoreKillMonsterNPC[k][2]			local tempdata = mgrNpc:Add(data.npc,x,y,data.f)			--将刷出点NPC数据插到新表中			table.insert(self.Base.TempStoreKillMonsterNPC,tempdata)		end			endend--删除NPCfunction Form:DeleteNPC()	local objCurMap = CMapManager:GetMap(8090);	local mgrNpc = objCurMap:GetNpcMgr()	if objCurMap then		for k,n in pairs(self.Base.TempStoreKillMonsterNPC) do			if n then				mgrNpc:Remove(n)				self.Base.TempStoreKillMonsterNPC[k] = nil			end		end	endend--------------------------------------------------------------刷飞贼-------------------------------------------------------------function Form:FunStoreThief(Day)	local Data = self.Base.Thief	local Place = self.Base.ThiefHeaderPos	local waste = waste or {}	for Loop = 1,#Data do		local tempFightID = self:GetMonThiefFightID(2,1,Day)		local Record = math.random( #Place );		local m = Place[Record]		self.Base.StoreThief[Loop] = {};		self.Base.StoreThief[Loop] = {m, tempFightID}		--保存坐标		table.insert(waste,m)		--删除坐标		table.remove(Place,Record)		end	--还原坐标库	for k,n in pairs(waste) do		table.insert(Place,n)		waste[k] = nil;	endendfunction Form:GrowThief()	local Data = self.Base.Thief	local objCurMap = CMapManager:GetMap(8090);	CScriptManager:Notice(SysStringConfigInfo[13009200009],6,false,8090)	for Loop = 1,#Data do		local tempFightID = self.Base.StoreThief[Loop][2]		local m = self.Base.StoreThief[Loop][1]		local objID = CScriptManager:AddMonToMap(8090,Data[Loop].dwMonsterId,tempFightID,Data[Loop].dwAIId,Data[Loop].dwDropId,Data[Loop].dwLook,m.x,m.y)		table.insert(self.Base.TempStoreThief,objID)	endend--删除飞贼function Form:DeleteThief()	local Map = CMapManager:GetMap(8090)	if not Map then return end;	local mgrMon = Map:GetMonsterMgr()	if not mgrMon then return end;	for i=1,#self.Base.TempStoreThief do		if self.Base.TempStoreThief[i] then			mgrMon:Remove(self.Base.TempStoreThief[i])			self.Base.TempStoreThief[i] = nil;		end	endend--每8分钟公告玩家击杀小怪获得令牌召唤强力BOSSfunction Form:NoticeAToken()	local objCurMap = CMapManager:GetMap(8090);	CScriptManager:Notice(SysStringConfigInfo[13009200015],6,false,8090)end--------------------------------------------------------------------------------------清空所有的信息表function Form:ClearTable()	--存储木质宝箱（备份）	self.Base.StoreWodoBox = {};	--存储木质宝箱（临时）	self.Base.TempStoreWodoBox = {};	--存储银质宝箱（备份）	self.Base.StoreSilveryBox = {};	--存储银质宝箱（临时）	self.Base.TempStoreSilveryBox = {};		--存储金质宝箱（备份）	self.Base.StoreGoldBox = {};	--存储金质宝箱（临时）	self.Base.TempStoreGoldBox = {};		--存储经验BOSS（备份）	self.Base.StoreExpBoss = {};	--存储金钱BOSS（备份）	self.Base.StoreGoldBoss = {};		-- --存储金钱BOSS（临时）	self.Base.StoreFinalBoss = {};	-- --存储最终BOSS（临时）	self.Base.StoreKillMonsterNPC = {};	--存储杀怪任务NPC（临时）	self.Base.TempStoreKillMonsterNPC = {};		--存储飞贼（备份）	self.Base.StoreThief = {};	--存储飞贼（备份）	self.Base.TempStoreThief = {};	end