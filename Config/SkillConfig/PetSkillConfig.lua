--[[功能：宠物技能配置表作者：魏云时间：2013-9-16--]]_G.PetSkillScript = {};---宠物最大拥有技能个数_G.PetSkillMaxNumConfig = 9;---侠客技能格子开放等级local skillopenlevel = {1,30,60,80,100,105,110,115;};---宠物技能权重配置表_G.PetCanLearnSkillWeightConfig = {	{SkillID = 20000036,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "普通攻击",isNormal = 1},	{SkillID = 20000011,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000012,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000013,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000014,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000015,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},		{SkillID = 20000016,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},		{SkillID = 20000017,WeightValue = 50,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000018,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1}, -----技能ID ，权重数值	{SkillID = 20000019,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1}, -----技能ID ，权重数值	{SkillID = 20000020,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000021,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000022,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000023,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000024,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},		{SkillID = 20000025,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},		{SkillID = 20000026,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},		{SkillID = 20000028,WeightValue = 10,SkillMaxLevel = 1,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000029,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000030,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000031,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000032,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},		{SkillID = 20000033,WeightValue = 10,SkillMaxLevel = 1,SkillPetName = "通用",isNormal = 1},		{SkillID = 20000034,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "通用",isNormal = 1},	{SkillID = 20000005,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识黄药师",isNormal = 0},		{SkillID = 20000004,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识李莫愁",isNormal = 0},	{SkillID = 20000008,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识小龙女",isNormal = 0},	{SkillID = 20000002,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识许竹青",isNormal = 0},	{SkillID = 20000006,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识洪七公",isNormal = 0},	{SkillID = 20000009,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识一灯大师",isNormal = 0},		{SkillID = 20000003,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识周伯通",isNormal = 0},		{SkillID = 20000007,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识欧阳锋",isNormal = 0},	{SkillID = 20000001,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识康兴哥",isNormal = 0},		{SkillID = 20000010,WeightValue = 10,SkillMaxLevel = 100,SkillPetName = "结识铁匠",isNormal = 0},	};----宠物领悟技能消耗配置表_G.PetLearnSkillConsumeConfig = {	[10021030] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 10000}, ---宠物配置ID，康兴哥	[10021015] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 20000}, ---宠物配置ID, 许竹青	[10051001] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 30000}, ---宠物配置ID，周伯通	[10092007] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 40000}, ---宠物配置ID，李莫愁	[10051003] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 50000}, ---宠物配置ID, 黄药师	[10082007] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 60000}, ---宠物配置ID，洪七公	[10071007] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 70000}, ---宠物配置ID, 欧阳锋	[50302063] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 80000}, ---宠物配置ID，小龙女	[10061001] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 90000}, ---宠物配置ID，一灯大师	[50710015] = {consumeItemID = 9701015,consumeItemNum = 20,consumeItemType = 0,consumeMoney = 100000}, ---宠物配置ID, 商城导购		}_G.enPetSkillConType ={	[1] = {name = "银两",key = "consumeMoney",};	[2] = {name = "金",key = "uItemGold",};	[3] = {name = "木",key = "uItemWood",};	[4] = {name = "水",key = "uItemWater",};	[5] = {name = "火",key = "uItemFire",};	[6] = {name = "土",key = "uItemEarth",};	[7] = {name = "经验",key = "consumePlayerExp",};}---宠物技能升级消耗配置表_G.PetSkillLevelUpConsumeConfig = {	[2] = {5000,1000,1000,1000,1000,1000,0,};	[3] = {8000,2000,2000,2000,2000,2000,0,};	[4] = {11000,3000,3000,3000,3000,3000,0,};	[5] = {14000,4000,4000,4000,4000,4000,0,};	[6] = {17000,5000,5000,5000,5000,5000,0,};	[7] = {20000,6000,6000,6000,6000,6000,0,};	[8] = {23000,7000,7000,7000,7000,7000,0,};	[9] = {26000,8000,8000,8000,8000,8000,0,};	[10] = {29000,9000,9000,9000,9000,9000,0,};	[11] = {32000,10000,10000,10000,10000,10000,0,};	[12] = {38000,11000,11000,11000,11000,11000,0,};	[13] = {44000,12000,12000,12000,12000,12000,0,};	[14] = {50000,13000,13000,13000,13000,13000,0,};	[15] = {56000,14000,14000,14000,14000,14000,0,};	[16] = {62000,15000,15000,15000,15000,15000,0,};	[17] = {68000,16000,16000,16000,16000,16000,0,};	[18] = {74000,17000,17000,17000,17000,17000,0,};	[19] = {80000,18000,18000,18000,18000,18000,0,};	[20] = {86000,19000,19000,19000,19000,19000,0,};	[21] = {92000,20000,20000,20000,20000,20000,0,};	[22] = {101000,21000,21000,21000,21000,21000,0,};	[23] = {110000,22000,22000,22000,22000,22000,0,};	[24] = {119000,23000,23000,23000,23000,23000,0,};	[25] = {128000,24000,24000,24000,24000,24000,0,};	[26] = {137000,25000,25000,25000,25000,25000,0,};	[27] = {146000,26000,26000,26000,26000,26000,0,};	[28] = {155000,27000,27000,27000,27000,27000,0,};	[29] = {164000,28000,28000,28000,28000,28000,0,};	[30] = {173000,29000,29000,29000,29000,29000,0,};	[31] = {182000,30000,30000,30000,30000,30000,0,};	[32] = {197000,31500,31500,31500,31500,31500,0,};	[33] = {212000,33000,33000,33000,33000,33000,0,};	[34] = {227000,34500,34500,34500,34500,34500,0,};	[35] = {242000,36000,36000,36000,36000,36000,0,};	[36] = {257000,37500,37500,37500,37500,37500,0,};	[37] = {272000,39000,39000,39000,39000,39000,0,};	[38] = {287000,40500,40500,40500,40500,40500,0,};	[39] = {302000,42000,42000,42000,42000,42000,0,};	[40] = {317000,43500,43500,43500,43500,43500,0,};	[41] = {332000,45000,45000,45000,45000,45000,0,};	[42] = {356000,46500,46500,46500,46500,46500,0,};	[43] = {380000,48000,48000,48000,48000,48000,0,};	[44] = {404000,49500,49500,49500,49500,49500,0,};	[45] = {428000,51000,51000,51000,51000,51000,0,};	[46] = {452000,52500,52500,52500,52500,52500,0,};	[47] = {476000,54000,54000,54000,54000,54000,0,};	[48] = {500000,55500,55500,55500,55500,55500,0,};	[49] = {524000,57000,57000,57000,57000,57000,0,};	[50] = {548000,58500,58500,58500,58500,58500,0,};	[51] = {572000,60000,60000,60000,60000,60000,0,};	[52] = {608000,62000,62000,62000,62000,62000,0,};	[53] = {644000,64000,64000,64000,64000,64000,0,};	[54] = {680000,66000,66000,66000,66000,66000,0,};	[55] = {716000,68000,68000,68000,68000,68000,0,};	[56] = {752000,70000,70000,70000,70000,70000,0,};	[57] = {788000,72000,72000,72000,72000,72000,0,};	[58] = {824000,74000,74000,74000,74000,74000,0,};	[59] = {860000,76000,76000,76000,76000,76000,0,};	[60] = {896000,78000,78000,78000,78000,78000,0,};	[61] = {932000,80000,80000,80000,80000,80000,0,};	[62] = {983000,82000,82000,82000,82000,82000,0,};	[63] = {1034000,84000,84000,84000,84000,84000,0,};	[64] = {1085000,86000,86000,86000,86000,86000,0,};	[65] = {1136000,88000,88000,88000,88000,88000,0,};	[66] = {1187000,90000,90000,90000,90000,90000,0,};	[67] = {1238000,92000,92000,92000,92000,92000,0,};	[68] = {1289000,94000,94000,94000,94000,94000,0,};	[69] = {1340000,96000,96000,96000,96000,96000,0,};	[70] = {1391000,98000,98000,98000,98000,98000,0,};	[71] = {1442000,100000,100000,100000,100000,100000,0,};	[72] = {1523000,102000,102000,102000,102000,102000,0,};	[73] = {1604000,104000,104000,104000,104000,104000,0,};	[74] = {1685000,106000,106000,106000,106000,106000,0,};	[75] = {1766000,108000,108000,108000,108000,108000,0,};	[76] = {1847000,110000,110000,110000,110000,110000,0,};	[77] = {1928000,112000,112000,112000,112000,112000,0,};	[78] = {2009000,114000,114000,114000,114000,114000,0,};	[79] = {2090000,116000,116000,116000,116000,116000,0,};	[80] = {2171000,118000,118000,118000,118000,118000,0,};	[81] = {2252000,120000,120000,120000,120000,120000,0,};	[82] = {2393000,122000,122000,122000,122000,122000,0,};	[83] = {2534000,124000,124000,124000,124000,124000,0,};	[84] = {2675000,126000,126000,126000,126000,126000,0,};	[85] = {2816000,128000,128000,128000,128000,128000,0,};	[86] = {2957000,130000,130000,130000,130000,130000,0,};	[87] = {3098000,132000,132000,132000,132000,132000,0,};	[88] = {3239000,134000,134000,134000,134000,134000,0,};	[89] = {3380000,136000,136000,136000,136000,136000,0,};	[90] = {3521000,138000,138000,138000,138000,138000,0,};	[91] = {3662000,140000,140000,140000,140000,140000,0,};	[92] = {3923000,142000,142000,142000,142000,142000,0,};	[93] = {4184000,144000,144000,144000,144000,144000,0,};	[94] = {4445000,146000,146000,146000,146000,146000,0,};	[95] = {4706000,148000,148000,148000,148000,148000,0,};	[96] = {4967000,150000,150000,150000,150000,150000,0,};	[97] = {5228000,152000,152000,152000,152000,152000,0,};	[98] = {5489000,154000,154000,154000,154000,154000,0,};	[99] = {5750000,156000,156000,156000,156000,156000,0,};	[100] = {6011000,158000,158000,158000,158000,158000,0,};};function PetSkillScript:GetPetSkillLevelUpConsumeInfo(skillLevel,skillId)	local consumeInfo = {consumeMoney = 0,consumePlayerExp = 0,uItemGold = 0, uItemWood =0, uItemWater =0, uItemFire =0, uItemEarth = 0,};	for k,v in pairs(_G.enPetSkillConType) do		consumeInfo[v.key] = _G.PetSkillLevelUpConsumeConfig [skillLevel][k];	end	return consumeInfo;end---宠物固定技能id配置表_G.PetFixSkillIdConfig = {	[10021030] = {{20000036,2},{20000001,2}}, ----宠物配置Id康兴哥，固定技能id普通攻击，固定技能id燕双归  {20000036,2}  20000036 技能id 2 是固定不变 0是可以改变	[10021015] = {{20000036,2},{20000002,2}},--许竹青，普通攻击，失魂引	[10051001] = {{20000036,2},{20000003,2}},--周伯通，普通攻击，抑身经	[10092007] = {{20000036,2},{20000004,2}},--李莫愁，普通攻击，缓哥行	[10051003] = {{20000036,2},{20000005,2}},--黄药师，普通攻击，囚仙曲	[10082007] = {{20000036,2},{20000006,2}},					--洪七公，普通攻击，沧海月眩	[10071007] = {{20000036,2},{20000007,2}},			--欧阳锋，普通攻击，凝水决	[50302063] = {{20000036,2},{20000008,2}},				--小龙女，普通攻击，绕指柔	[10061001] = {{20000036,2},{20000009,2}},				--一灯大师，普通攻击，囚仙曲	[50710015] = {{20000036,2},{20000010,2}},				--铁匠，普通	}---结交宠物对应可学的对应的技能配置表_G.AddPetGetCanLearnSkillConfig = {	[10021030] = 20000001,                 	--宠物配置id康兴哥， 可学技能id燕双归	[10021015] = 20000002,						--许竹青，失魂引	[10051001] = 20000003,						--周伯通，抑身经	[10092007] = 20000004,					--李莫愁，缓哥行	[10051003] = 20000005,				--黄药师，囚仙曲	[10082007] = 20000006,					--洪七公，沧海月眩	[10071007] = 20000007,			--欧阳锋，凝水决	[50302063] = 20000008,					--小龙女，囚仙曲	[10061001] = 20000009,					--一灯大师，囚仙曲	[50710015] = 20000010,				--铁匠，彩蝶舞}---开启技能槽配置表_G.OpenPetSkillPosConfig = {	[1] = 2;	[30] = 3;    ------宠物等级  技能槽位	[60] = 4;    ------宠物等级  技能槽位	[80] = 5;    ------宠物等级  技能槽位	[100] = 6;    ------宠物等级  技能槽位\	[105] = 7;    ------宠物等级  技能槽位	[110] = 8;    ------宠物等级  技能槽位	[115] = 9;    ------宠物等级  技能槽位	   ------宠物等级  技能槽位	--[40] = 3;    ------宠物等级  技能槽位	--[60] = 4;    ------宠物等级  技能槽位}---宠物技能加锁消耗的元宝数_G.LockPetSkillConsumeGoldNumConfig = 10; ---宠物广播技能id_G.PetSKillBroadCastIDConfig = {} ----要广播的宠物技能id---宠物广播技能描述_G.PetSKillBroadCastString = "恭喜%s的%s领悟了%s" ----恭喜玩家名字的宠物名字领悟了技能名字。--宠物技能 客户端界面 显示配置_G.PetSystemConfigC={	strPetSkillSystemDesc="1.点击领悟按钮可以重新领悟武学。<br/>2.给武学加锁可以保证此武学不被替换。<br/>3.只有侠客佩戴的武学才能升级<br/><font color='#f81818'>4.武学加锁每次领悟需要消耗元宝";	strImgPathSlotNotOpen = "empty.png";	strLock = "加锁";	strUnlock = "解锁";	strWaitReply = "等待服务器响应.";	strLockTips = "锁定技能将消耗%d个元宝是否确定？";	strBroadcastKillInfo = "%s的宠物%s习得技能:%s";	strAllSkillLocked= "所有技能都锁住了，没有可替换的技能。";	dwLockNeedGold = _G.LockPetSkillConsumeGoldNumConfig;	strEffectUpLevel = "ui_skill_sj_02"; --升级时的特效名称	strEffectStudyed = "Tx_Ui_lingwujinengtexiao"; --学习技能时代特效名称	dwStudyGold = 0;	dwStudyInterval = 1000;	--学习技能点击间隔 毫秒		--得到技能槽的开启等级	GetSkillSlotOpenCfg = function(dwPetLevel,dwSlot)		dwSlot = dwSlot - 1;		if dwPetLevel >= skillopenlevel[dwSlot] then			return true;		else			return false,string.format("%d级开启",skillopenlevel[dwSlot]);		end				-- if dwSlot == 2 then			-- if dwPetLevel >= 40 then				-- return true;			-- else				-- return false,string.format("40级开启");			-- end		-- end				-- if dwSlot == 3 then			-- if dwPetLevel >=60 then				-- return true;			-- else				-- return false, string.format("60级开启");			-- end		-- end					end;		--移动到升级按钮上时显示的Tips, objConsume参考 PetSkillLevelUpConsumeConfig 	GetUpdateTipsInfo = function(objConsume)		local uItemGold=true;		local uItemWood=true;		local uItemWater=true;		local uItemFire=true;		local uItemEarth=true;		--local consumePlayerExp=true;		local consumeMoney=true;				local dwMetalValue,dwWoodValue,dwWaterValue,dwFireValue,dwEarthValue = CFiveElemSystem:GetValue();		--local dwExp = CPlayerSystem:GetPlayer():GetInfo().dwExp;		local dwMoney = CPacket:GetMoney();				uItemGold = dwMetalValue >= objConsume.uItemGold;		uItemWood = dwWoodValue >= objConsume.uItemWood;		uItemWater = dwWaterValue >= objConsume.uItemWater;		uItemFire = dwFireValue >= objConsume.uItemFire;		uItemEarth = dwEarthValue >= objConsume.uItemEarth;		--consumePlayerExp = dwExp >= objConsume.consumePlayerExp;		consumeMoney = dwMoney >= objConsume.consumeMoney;				local line1=""		if uItemGold then			line1 = string.format("<font color='#cdc6c4'>金:%d</font>",objConsume.uItemGold);		else				line1 = string.format("<font color='#FF0000'>金:%d</font>",objConsume.uItemGold);		end				local line2=""		if uItemWood then			line2 = string.format("<font color='#cdc6c4'>木:%d</font>",objConsume.uItemWood);		else				line2 = string.format("<font color='#FF0000'>木:%d</font>",objConsume.uItemWood);		end		local line3=""		if uItemWater then			line3 = string.format("<font color='#cdc6c4'>水:%d</font>",objConsume.uItemWater);		else				line3 = string.format("<font color='#FF0000'>水:%d</font>",objConsume.uItemWater);		end		local line4=""		if uItemFire then			line4 = string.format("<font color='#cdc6c4'>火:%d</font>",objConsume.uItemFire);		else				line4 = string.format("<font color='#FF0000'>火:%d</font>",objConsume.uItemFire);		end		local line5=""		if uItemEarth then			line5 = string.format("<font color='#cdc6c4'>土:%d</font>",objConsume.uItemEarth);		else				line5 = string.format("<font color='#FF0000'>土:%d</font>",objConsume.uItemEarth);		end				local line6=""		if consumeMoney then			line6 = string.format("<font color='#cdc6c4'>银两:%d</font>",objConsume.consumeMoney);		else			line6 = string.format("<font color='#FF0000'>银两:%d</font>",objConsume.consumeMoney);		end		return string.format("<font color='#DCB857'>升级技能消耗：<br/>%s<br/>%s<br/>%s<br/>%s<br/>%s<br/>%s",line1,line2,line3,line4,line5,line6);	end;		--滚动区域中，技能标题描述	GetScrollSkillTitle = function(bStudyed,strSkillName,dwSkillLevel,dwMaxLevel,dwSkillTeacher,dwSkillID)		if bStudyed then			return string.format("<font color='#fed904'>%s %d/%d </font>",strSkillName,dwSkillLevel,dwMaxLevel);		else			return string.format("<font color='#666666'>%s %d/%d </font><font color='#FF0000'>%s可领悟</font>",strSkillName,dwSkillLevel,dwMaxLevel,dwSkillTeacher);		end	end;		GetScrollSkillDesc = function(bStudyed,strDesc,dwSkillID)		return string.format("%s",strDesc);	end;		--道具是否足够的html文本	GetItemHtmlText = function(bEnough)		if bEnough then			return "<font color='#dcd9d9'>%s x %d</font>";		else			return "<font color='#ff0000'>%s x %d</font>";		end	end;		--钱是否够的html文本，元宝和钱	GetMoneyHtmlText = function(bEnough)		if bEnough then			return "<font color='#dcd9d9'>%d</font>";		else			return "<font color='#ff0000'>%d</font>";		end	end;		--技能界面描述	GetSkillDescCfg = function(dwSkillID)		return SkillStringConfig[SkillConfig[dwSkillID].dwSkilExplain1];	end;		--当前等级效果	GetSkillDesc = function(dwSkillID, dwSkillLevel)			local szNow = "******"		-- if dwSkillLevel == 0 then			-- szNow = SkillStringConfig[241];		-- else			-- if dwSkillID==88888 then	--测试技能				-- szNow = string.format(SkillStringConfig[290],110+math.floor(dwSkillLevel/10)*2,math.floor(189+dwSkillLevel*(11+dwSkillLevel*0.03)+math.floor(dwSkillLevel/10)*38*math.floor(dwSkillLevel/10)));			-- elseif dwSkillID==20000001 then   --初级突击				-- szNow = string.format(SkillStringConfig[290],110+math.floor(dwSkillLevel/10)*2,math.floor(189+dwSkillLevel*(11+dwSkillLevel*0.03)+math.floor(dwSkillLevel/10)*38*math.floor(dwSkillLevel/10)));			-- elseif dwSkillID==20000001 then   --初级地刺				-- szNow = string.format(SkillStringConfig[290],110+math.floor(dwSkillLevel/10)*2,math.floor(189+dwSkillLevel*(11+dwSkillLevel*0.03)+math.floor(dwSkillLevel/10)*38*math.floor(dwSkillLevel/10)));					-- end		-- end				--测试技能		if dwSkillID==88888 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[290],110+math.floor(dwSkillLevel/10)*2,math.floor(189+dwSkillLevel*(11+dwSkillLevel*0.03)+math.floor(dwSkillLevel/10)*38*math.floor(dwSkillLevel/10)));						end				end		--初级突击		if dwSkillID==20000001 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],85,math.floor(0.06*dwSkillLevel^2+12*dwSkillLevel+48));			end				end			--初级地刺		if dwSkillID==20000002 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else    				szNow = string.format(SkillStringConfig[307],95,math.floor(0.06*dwSkillLevel^2+11*dwSkillLevel+44));			end				end			--初级暗杀		if dwSkillID==20000003 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],95,math.floor(0.06*dwSkillLevel^2+11*dwSkillLevel+44));			end				end			--初级长拳		if dwSkillID==20000004 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],95,math.floor(0.06*dwSkillLevel^2+13*dwSkillLevel+52));			end				end			--初级暗光		if dwSkillID==20000005 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillLevel^2+14*dwSkillLevel+56));			end				end			--初级梦魇		if dwSkillID==20000006 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else   				szNow = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillLevel^2+14*dwSkillLevel+56));			end				end			--初级散魂   		if dwSkillID==20000007 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else    				szNow = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillLevel^2+17*dwSkillLevel+68));			end				end			--初级飞火  		if dwSkillID==20000008 then				if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],85,math.floor(0.06*dwSkillLevel^2+15*dwSkillLevel+60));			end				end				--高级暗光   		if dwSkillID==20000009 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillLevel^2+14*dwSkillLevel+56));			end		end		--高级梦魇   		if dwSkillID==20000010 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillLevel^2+16*dwSkillLevel+64));			end		end		--高级散魂   		if dwSkillID==20000011 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillLevel^2+30*dwSkillLevel+120));			end		end		--高级飞火   		if dwSkillID==20000012 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],200,math.floor(0.12*dwSkillLevel^2+34*dwSkillLevel+136));			end		end		--高级突击   		if dwSkillID==20000013 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillLevel^2+30*dwSkillLevel+120));			end		end		--高级地刺   		if dwSkillID==20000014 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillLevel^2+30*dwSkillLevel+120));			end		end		--高级暗杀   		if dwSkillID==20000015 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillLevel^2+30*dwSkillLevel+120));			end		end		--高级长拳   		if dwSkillID==20000016 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],150,math.floor(0.12*dwSkillLevel^2+32*dwSkillLevel+128));			end		end		--囚仙曲     		if dwSkillID==20000017 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillLevel^2+30*dwSkillLevel+120));			end		end		--缓歌行    		if dwSkillID==20000018 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],120,math.floor(0.24*dwSkillLevel^2+28*dwSkillLevel+72));			end		end		--绕指柔   		if dwSkillID==20000019 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],120,math.floor(0.12*dwSkillLevel^2+26*dwSkillLevel+104));			end		end		--失魂引		if dwSkillID==20000020 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],120,math.floor(0.12*dwSkillLevel^2+26*dwSkillLevel+104));			end		end		--寂夜无音   		if dwSkillID==20000021 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillLevel^2+28*dwSkillLevel+112));			end		end		--沧海月眩    		if dwSkillID==20000022 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillLevel^2+28*dwSkillLevel+112));			end		end		--抑身经    		if dwSkillID==20000023 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillLevel^2+24*dwSkillLevel+96));			end		end		--凝水决   		if dwSkillID==20000024 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],100,math.floor(0.12*dwSkillLevel^2+28*dwSkillLevel+112));			end		end		--燕双归    		if dwSkillID==20000025 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillLevel^2+22*dwSkillLevel+88));			end		end		--彩蝶舞     		if dwSkillID==20000026 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillLevel^2+20*dwSkillLevel+80));			end		end		--相思引		if dwSkillID==20000027 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[307],120,math.floor(0.12*dwSkillLevel^2+20*dwSkillLevel+80));			end		end			--高级神佑		if dwSkillID==20000028 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[292],50);			end		end			--高级蛮力    		if dwSkillID==20000029 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[293],math.floor(0.4*dwSkillLevel^2+10*dwSkillLevel+50));			end		end			--高级铜皮    		if dwSkillID==20000030 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[294],math.floor(0.2*dwSkillLevel^2+5*dwSkillLevel+25));			end		end			--高级暴击   		if dwSkillID==20000031 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[295],math.floor(0.08*dwSkillLevel^2+2*dwSkillLevel+10));			end		end			--高级强身     		if dwSkillID==20000032 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[296],math.floor(0.08*dwSkillLevel^2+2*dwSkillLevel+10));			end		end			--高级固元		if dwSkillID==20000033 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[297],10);			end		end			--高级反弹   		if dwSkillID==20000034 then			if dwSkillLevel == 0 then				szNow = SkillStringConfig[241];			else				szNow = string.format(SkillStringConfig[298],math.floor(0.16*dwSkillLevel^2+20*dwSkillLevel+50));			end		end					return szNow; 	end;	--下一等级效果	GetSKillNextEffect = function(dwSkillID, dwSkillLevel)			local szNext = "******"		local dwSkillNextLevel = dwSkillLevel + 1		--测试技能		if dwSkillID==88888 then				szNext = string.format(SkillStringConfig[307],85,math.floor(0.06*dwSkillNextLevel^2+12*dwSkillNextLevel+48));		end		--初级突击		if dwSkillID==20000001 then			szNext = string.format(SkillStringConfig[307],85,math.floor(0.06*dwSkillNextLevel^2+12*dwSkillNextLevel+48));		end		--初级地刺		if dwSkillID==20000002 then			szNext = string.format(SkillStringConfig[307],95,math.floor(0.06*dwSkillNextLevel^2+11*dwSkillNextLevel+44));		end		--初级暗杀		if dwSkillID==20000003 then			szNext = string.format(SkillStringConfig[307],95,math.floor(0.06*dwSkillNextLevel^2+11*dwSkillNextLevel+44));		end		--初级长拳		if dwSkillID==20000004 then			szNext = string.format(SkillStringConfig[307],95,math.floor(0.06*dwSkillNextLevel^2+13*dwSkillNextLevel+52));		end		--初级暗光		if dwSkillID==20000005 then			szNext =  string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillNextLevel^2+14*dwSkillNextLevel+56));		end		--初级梦魇		if dwSkillID==20000006 then			szNext = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillNextLevel^2+14*dwSkillNextLevel+56));		end		--初级散魂		if dwSkillID==20000007 then			szNext = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillNextLevel^2+17*dwSkillNextLevel+68));		end		--初级飞火		if dwSkillID==20000008 then			szNext = string.format(SkillStringConfig[307],85,math.floor(0.06*dwSkillNextLevel^2+15*dwSkillNextLevel+60));		end		--高级暗光		if dwSkillID==20000009 then			szNext = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillNextLevel^2+14*dwSkillNextLevel+56));		end		--高级梦魇		if dwSkillID==20000010 then			szNext = string.format(SkillStringConfig[307],100,math.floor(0.06*dwSkillNextLevel^2+16*dwSkillNextLevel+64));		end		--高级散魂		if dwSkillID==20000011 then			szNext = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillNextLevel^2+30*dwSkillNextLevel+120));		end		--高级飞火		if dwSkillID==20000012 then			szNext = string.format(SkillStringConfig[307],200,math.floor(0.12*dwSkillNextLevel^2+34*dwSkillNextLevel+136));		end		--高级突击		if dwSkillID==20000013 then			szNext = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillNextLevel^2+30*dwSkillNextLevel+120));		end		--高级地刺		if dwSkillID==20000014 then			szNext = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillNextLevel^2+30*dwSkillNextLevel+120));		end		--高级暗杀		if dwSkillID==20000015 then			szNext = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillNextLevel^2+30*dwSkillNextLevel+120));		end		--高级长拳		if dwSkillID==20000016 then			szNext = string.format(SkillStringConfig[307],150,math.floor(0.12*dwSkillNextLevel^2+32*dwSkillNextLevel+128));		end		--囚仙曲		if dwSkillID==20000017 then			szNext = string.format(SkillStringConfig[307],140,math.floor(0.12*dwSkillNextLevel^2+30*dwSkillNextLevel+120));		end		--缓歌行		if dwSkillID==20000018 then			szNext = string.format(SkillStringConfig[307],120,math.floor(0.24*dwSkillNextLevel^2+28*dwSkillNextLevel+72));		end		--绕指柔		if dwSkillID==20000019 then			szNext = string.format(SkillStringConfig[307],120,math.floor(0.12*dwSkillNextLevel^2+26*dwSkillNextLevel+104));		end		--失魂引		if dwSkillID==20000020 then			szNext = string.format(SkillStringConfig[307],120,math.floor(0.12*dwSkillNextLevel^2+26*dwSkillNextLevel+104));		end		--寂夜无音		if dwSkillID==20000021 then			szNext = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillNextLevel^2+28*dwSkillNextLevel+112));		end		--沧海月眩		if dwSkillID==20000022 then			szNext = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillNextLevel^2+28*dwSkillNextLevel+112));		end		--抑身经		if dwSkillID==20000023 then			szNext = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillNextLevel^2+24*dwSkillNextLevel+96));		end		--凝水决		if dwSkillID==20000024 then			szNext = string.format(SkillStringConfig[307],100,math.floor(0.12*dwSkillNextLevel^2+28*dwSkillNextLevel+112));		end		--燕双归		if dwSkillID==20000025 then			szNext = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillNextLevel^2+22*dwSkillNextLevel+88));		end		--彩蝶舞		if dwSkillID==20000026 then			szNext = string.format(SkillStringConfig[307],130,math.floor(0.12*dwSkillNextLevel^2+20*dwSkillNextLevel+80));		end		--相思引		if dwSkillID==20000027 then			szNext = string.format(SkillStringConfig[307],120,math.floor(0.12*dwSkillNextLevel^2+20*dwSkillNextLevel+80));		end		--高级神佑		if dwSkillID==20000028 then			szNext = string.format(SkillStringConfig[292],50);		end		--高级蛮力		if dwSkillID==20000029 then			szNext = string.format(SkillStringConfig[293],math.floor(0.4*dwSkillNextLevel^2+10*dwSkillNextLevel+50));		end		--高级铜皮		if dwSkillID==20000030 then			szNext = string.format(SkillStringConfig[294],math.floor(0.2*dwSkillNextLevel^2+5*dwSkillNextLevel+25));		end		--高级暴击		if dwSkillID==20000031 then			szNext = string.format(SkillStringConfig[295],math.floor(0.08*dwSkillNextLevel^2+2*dwSkillNextLevel+10));		end		--高级强身		if dwSkillID==20000032 then			szNext = string.format(SkillStringConfig[296],math.floor(0.08*dwSkillNextLevel^2+2*dwSkillNextLevel+10));		end		--高级固元		if dwSkillID==20000033 then			szNext = string.format(SkillStringConfig[297],10);		end		--高级反弹		if dwSkillID==20000034 then			szNext = string.format(SkillStringConfig[298],math.floor(0.16*dwSkillNextLevel^2+20*dwSkillNextLevel+50));		end						return szNext; 	end;	--武学渊源	GetSkillStory = function(dwSkillID, dwSkillLevel)		return SkillStringConfig[SkillConfig[dwSkillID].dwStudentDes];		-- if dwSkillID >= 20000001 and dwSkillID <= 20000008 then			-- return "<font color='#ffffff'>基础武学，广泛流传于江湖。</font>";		-- elseif dwSkillID >= 20000009 and dwSkillID <= 20000016 then			-- return "<font color='#ffffff'>高级武学，流传于江湖中的各大宗派。</font>";		-- elseif dwSkillID >= 20000028 and dwSkillID <= 20000034 then			-- return "<font color='#ffffff'>高级武学，流传于江湖中的各大宗派。</font>";		-- elseif dwSkillID == 20000025 then			-- return "<font color='#0DAB01'>康兴哥</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>康兴哥</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";						-- elseif dwSkillID == 20000020 then			-- return "<font color='#0DAB01'>许竹青</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>许竹青</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";			-- elseif dwSkillID == 20000023 then			-- return "<font color='#0DAB01'>周伯通</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>周伯通</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";						-- elseif dwSkillID == 20000018 then			-- return "<font color='#0DAB01'>李莫愁</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>李莫愁</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";									-- elseif dwSkillID == 20000017 then			-- return "<font color='#0DAB01'>黄药师</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>黄药师</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";											-- elseif dwSkillID == 20000021 then			-- return "<font color='#0DAB01'>洪七公</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>洪七公</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";														-- elseif dwSkillID == 20000024 then			-- return "<font color='#0DAB01'>欧阳锋</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>欧阳锋</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";																-- elseif dwSkillID == 20000019 then			-- return "<font color='#0DAB01'>小龙女</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>小龙女</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";																		-- elseif dwSkillID == 20000022 then			-- return "<font color='#0DAB01'>一灯大师</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>一灯大师</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";					-- elseif dwSkillID == 20000026 then			-- return "<font color='#0DAB01'>西域舞娘</font><font color='#ffffff'>独有内功，结识</font><font color='#0DAB01'>西域舞娘</font><font color='#ffffff'>后侠客才可领悟此武学。</font>";							-- end				-- return "<font color='#ffffff'>门派不明。</font>";	end;	--武学类型	GetSkillType = function(dwSkillID,dwSkillKinds)		if dwSkillID >= 20000001 and dwSkillID <= 20000026 then				return "<font color='#ED9121'>侠客招式</font>";		elseif dwSkillID >= 20000028 and dwSkillID <= 20000034 then				return "<font color='#ED9121'>侠客心法</font>";		-- elseif dwSkillID >= 0 and dwSkillID <= 0 then				-- return "<font color='#ED9121'>侠客内功</font>";					end		return "<font color='#ED9121'>侠客招式</font>";		end;	};